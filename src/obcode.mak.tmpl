ifndef __OBCODE_MAK__
__OBCODE_MAK__ := 1

ifeq (${O},)

define OB_MAK_FILE
$(1)
endef

define OB_TRANS_PATH
endef

define UNOB_MAK_FILE
$(1)
endef

define UNOB_MAK_FILE_SHORT
$(shell ${PYTHON} -c "import sys;c='%PYTHON_OBCODE_STR%';exec(c);"  basename $(1))
endef


else


define OB_MAK_FILE
$(shell ${PYTHON} -c "import sys;c='%PYTHON_OBCODE_STR%';exec(c);"  makob $(1))
endef

define OB_TRANS_PATH
$(shell ${PYTHON} -c "import sys;c='%PYTHON_OBCODE_STR%';exec(c);"  obtrans --obtrans-srcdir "$(1)" --obtrans-dstdir "$(2)" "$(3)")
endef

define UNOB_MAK_FILE
$(shell ${PYTHON} -c "import sys;c='%PYTHON_OBCODE_STR%';exec(c);"  unmakob $(1))
endef

define UNOB_MAK_FILE_SHORT
$(shell ${PYTHON} -c "import sys;c='%PYTHON_OBCODE_STR%';exec(c);"  unmakob --unmakob-short $(1))
endef


endif



# __OBCODE_MAK__
endif 